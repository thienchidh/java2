package controls;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import model.Employee;

public class EmploeeManagement {

	private static final Scanner sc = new Scanner(System.in);

	private List<Employee> employees;

	public EmploeeManagement() {
		super();
		employees = new ArrayList<>();
	}

	private void addNewEmp() {

		System.out.println("empCode: ");
		String empCode = sc.nextLine().trim();
		System.out.println("empName: ");
		String empName = sc.nextLine().trim();
		System.out.println("empGender: ");
		boolean empGender = sc.nextLine().trim().equalsIgnoreCase("0");
		System.out.println("empAge: ");
		int empAge = Integer.parseInt(sc.nextLine().trim());
		System.out.println("empAddress: ");
		String empAddress = sc.nextLine().trim();

		Employee e = new Employee(empCode, empName, empGender, empAge, empAddress);
		employees.add(e);
	}

	private int choiceId() {
		return Integer.parseInt(sc.nextLine().trim());
	}

	private void deleteEmp() {
		System.out.println("empCode delete: ");
		String empCode = sc.nextLine().trim();
	}

	private void handleId(int id) {
		switch (id) {
		case 1:
			addNewEmp();
			break;

		case 2:
			searchByEmpCode();
			break;

		case 3:
			updateEmp();
			break;

		case 4:
			deleteEmp();
			break;
		case 5:
			listAllEmp();
			break;
		case 6:
			saveAllEmp();
			break;
		case 7:
			loadFileListEmp();
			break;
		case 8:
			System.exit(0);

		default:
			System.out.println("???");
			break;
		}
	}

	private void listAllEmp() {
		// TODO Auto-generated method stub

	}

	private void loadFileListEmp() {
		// TODO Auto-generated method stub

	}

	public void run() {
		while (true) {
			showMenu();
			int id = choiceId();
			handleId(id);
		}
	}

	private void saveAllEmp() {
		// TODO Auto-generated method stub

	}

	private void searchByEmpCode() {
		String empCode = sc.nextLine().trim();
		for (Employee employee : employees) {
			if (empCode.equals(employee.getEmpCode())) {
				System.out.println(employee);
			}
		}
	}

	private void showMenu() {
		System.out.println("EMPLOYEE MANAGEMENT");
		System.out.println("1. Add new employee");
		System.out.println("2. Search by employee code");
		System.out.println("3. Update an employee");
		System.out.println("4. Delete an employee");
		System.out.println("5. List all employee");
		System.out.println("6. Save all employee in an object file");
		System.out.println("7. Load file and show employee list");
		System.out.println("8. Exit program");
		System.out.print("> ");
	}

	private void updateEmp() {
		// TODO Auto-generated method stub

	}
}
